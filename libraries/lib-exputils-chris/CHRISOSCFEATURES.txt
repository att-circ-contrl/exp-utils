Oscillation response features are stored as a structure with the following
fields. Time window information is not stored in this structure; it was
provided by an oscillation fit parameter structure, per CHRISOSCPARAMS.txt.
Each response describes one trial (or one timelock-average from a set of
trials); responses for multiple trials are typically returned as a cell
array of per-trial responses.


Fields provided by euChris_extractStimOscillationResponse:

"trialnum" is the trial number.

"oscfreq" is the dominant frequency detected in the trial.

"winbefore" is a scalar containing the timestamp of the midpoint of the
  before-stimulation time window.

"magbefore" is a Nchans x 1 matrix containing magnitudes of the dominant
  oscillation before stimulation for each channel.

"freqbefore" is a Nchans x 1 matrix containing frequencies of the dominant
  oscillation before stimulation for each channel.

"phasebefore" is a Nchans x 1 matrix containing the phase (in radians) of
  the dominant oscillation before stimulation for each channel at the
  window midpoint.

"meanbefore" is a Nchans x 1 matrix containing the DC offset (mean) of the
  wave in the "before stimulation" curve fit window.

"rampbefore" (optional) is a Nchans x 1 matrix containing the line-fit slope
  of the wave in the "before stimulation" curve fit window.

"winafter" is a 1 x Nwindows matrix containing the timestamps of the
  midpoints of the after-stimulation time windows.

"magafter" is a Nchans x Nwindows matrix containing magnitudes of the
  dominant oscillation after stimulation for each channel and each
  requested window location.

"freqafter" is a Nchans x Nwindows matrix containing frequencies of the
  dominant oscillation after stimulation for each channel and each
  requested window location.

"phaseafter" is a Nchans x Nwindows matrix containing the phase (in
  radians) of the dominant oscillation after stimulation for each
  channel at each requested window midpoint.

"meanafter" is a Nchans x Nwindows matrix containing the DC offset (mean)
  of the wave in each "after stimulation" curve fit window.

"rampafter" (optional) is a Nchans x Nwindows matrix containing the line-fit
  slope of the wave in each "after stimulation" curve fit window.

"relafter" is a Nchans x Nwindows matrix containing relative magnitudes
  of the dominant oscillation after stimulation dividied by the magnitude
  before stimulation, for each channel and each requested window
  location. If the oscillation before stimulation was below-threshold,
  NaN is recorded instead of the relative magnitude.



Debugging fields that may be provided (if requested):

"origtimebefore" is a 1 x Nsamples matrix containing timestamps from the
  "before stimulation" curve fit window.

"origwavebefore" is a Nchans x Nsamples matrix with waveform data from the
  "before stimulation" curve fit window.

"rawphasebefore" is a Nchans x 1 matrix storing the phase returned by
  nlProc_fitCosine() before adjustment.

"origtimeafter" is a cell array with one entry per window size, containing
  1 x Nsamples matrices holding timestamps from the "after stimulation"
  curve fit windows.

"origwaveafter" is a cell array with one entry per window size, containing
  Nchans x Nsamples matrices holding waveform data from the "after
  stimulation" curve fit windows.

"rawphaseafter" is a cell array with one entry per window size, containing
  Nchans x 1 matrices storing the phase returned by nlProc_fitCosine()
  before adjustment.



Metadata fields that may be provided by test scripts:

"sessionlabel" is a filename-safe label identifying the recording session.

"caselabel" is a filename-safe label identifying the experiment configuration.
  This typically encodes experiment parameters (current, stim phase, etc).

"probelabel" is a filename-safe label identifying the probe this response
  was recorded from. This typically also encodes location.

"chanlabels" is a cell array containing Field Trip channel labels for each
  of the channels in this response.

"chanidx" is a Nchans x 1 matrix containing sequentially numbered channel
  indices. This is used as a data series to plot data against channel index.



Normalized data fields that may be provided by test scripts:

"normFOOafter" is a Nchans x Nwindows matrix containing an extracted feature
  value normalized against that feature's value from a baseline test case,
  for each channel and each requested window location.

"baseFOOafter" is a Nchans x Nwindows matrix containing the extracted feature
  value that was normalized against, corresponding to each "normFOOafter"
  entry above. This is the feature value from a different case (the baseline
  case).

These are typically generated by "euChris_calcNormalizedOscillationResponse".

NOTE - Any normalized data with negligible or noisy baseline values will be
meaningless. Pruning such cases is strongly advised.


"normrandafter" and "baserandafter" contain magnitudes of the dominant
  oscillation after phase-specific stimulation normalized against the
  corresponding random-phase stimulation cases.

"normphaseafter" and "basephaseafter" contain magnitudes of the dominant
  oscillation after stimulation at one specific phase (typically 180 degrees)
  normalized against another specific phase (typically 0 degrees).

"normcurrentafter" and "basecurrentafter" contain magnitudes of the dominant
  oscillation after stimulation at higher current normalized against lower
  current (typically sham if available).

"normrelcurrentafter" and "baserelcurrentafter" contain the after-vs-before
  relative oscillation magnitudes at higher current normalized against the
  relative oscillation magnitudes at lower current.


(This is the end of the file.)
